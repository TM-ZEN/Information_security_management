# HTMLクイズ問題追加指示書（JSON方式）

## 1. ファイル構成

### 1.1 必要なファイル
- `quiz.html` - メインのHTMLファイル
- `questions.json` - 問題データファイル

### 1.2 ファイルの配置
両ファイルを同じフォルダに配置してください。

## 2. 問題追加の基本手順

### Step 1: questions.jsonを開く
テキストエディタで `questions.json` ファイルを開きます。

### Step 2: 新しい問題を追加
配列の最後に新しい問題オブジェクトを追加します。

### Step 3: ファイルを保存
UTF-8エンコーディングで保存します。

### Step 4: ブラウザで確認
HTMLファイルをブラウザで開いて動作確認します。

## 3. JSON形式の書き方

### 3.1 基本構造（カテゴリ情報付き）
```json
[
  {
    "question": "問題文をここに記述",
    "category": "カテゴリ番号（例：15）",
    "subcategory": "サブカテゴリ名（例：システムの企画と要件定義）",
    "correct": "正解の選択肢をここに記述",
    "choices": [
      "選択肢1",
      "選択肢2", 
      "選択肢3",
      "選択肢4"
    ],
    "explanation": "解説文をここに記述"
  }
]
```

### 3.2 複数問題の場合
```json
[
  {
    "question": "1問目の問題文",
    "category": "15",
    "subcategory": "システムの企画と要件定義",
    "correct": "1問目の正解",
    "choices": ["選択肢1", "選択肢2", "選択肢3", "選択肢4"],
    "explanation": "1問目の解説"
  },
  {
    "question": "2問目の問題文",
    "category": "01",
    "subcategory": "情報セキュリティの定義",
    "correct": "2問目の正解", 
    "choices": ["選択肢1", "選択肢2", "選択肢3", "選択肢4"],
    "explanation": "2問目の解説"
  }
]
```

## 4. カテゴリ管理について

### 4.1 カテゴリ分類の方法
- **category**: カテゴリ番号（例：「15」「01」など）
- **subcategory**: サブカテゴリ名（例：「システムの企画と要件定義」「情報セキュリティの定義」など）

### 4.2 カテゴリ例
- **15. システム戦略**
  - システムの企画と要件定義
- **01. 情報セキュリティの重要性**
  - 情報セキュリティの定義

### 4.3 カテゴリ追加時の注意
- カテゴリ番号は統一した形式で記述（2桁の数字など）
- サブカテゴリ名は正確に記述（後でフィルタリングに使用）

## 5. 記述時の注意点

### 5.1 JSON書式ルール
- 全体を `[` と `]` で囲む（配列形式）
- 各問題を `{` と `}` で囲む（オブジェクト形式）
- 文字列は必ず `"` で囲む（シングルクォート不可）
- 最後の問題以外は `},` で終わり、最後の問題は `}` で終わる
- コメント（`//` や `/* */`）は使用不可

### 5.2 文字エスケープ
以下の文字を使用する場合はエスケープが必要：
- `"` → `\"`
- `\` → `\\` 
- 改行 → `\n`

### 5.3 よくあるエラー
- **カンマ忘れ**：問題の間にカンマがない
- **余分なカンマ**：最後の問題の後にカンマがある
- **クォート不一致**：`"` の開始と終了が合わない
- **correct値の不一致**：正解がchoices配列内の選択肢と完全一致しない

## 6. 問題追加の実例

### 既存のJSONファイル例
```json
[
  {
    "question": "既存の問題",
    "category": "15",
    "subcategory": "システムの企画と要件定義",
    "correct": "既存の正解",
    "choices": ["選択肢A", "選択肢B", "選択肢C", "選択肢D"],
    "explanation": "既存の解説"
  }
]
```

### 新しい問題を追加後
```json
[
  {
    "question": "既存の問題",
    "category": "15",
    "subcategory": "システムの企画と要件定義",
    "correct": "既存の正解",
    "choices": ["選択肢A", "選択肢B", "選択肢C", "選択肢D"],
    "explanation": "既存の解説"
  },
  {
    "question": "新しい問題文",
    "category": "01",
    "subcategory": "情報セキュリティの定義",
    "correct": "新しい正解",
    "choices": ["新選択肢1", "新選択肢2", "新選択肢3", "新選択肢4"],
    "explanation": "新しい解説"
  }
]
```

## 7. 動作確認方法

### 7.1 JSON形式チェック
- オンラインJSONバリデーターで構文チェック
- ブラウザの開発者ツールでエラー確認

### 7.2 問題内容チェック
- 正解が選択肢に含まれているか確認
- 解説が適切か確認
- 文字化けがないか確認

## 8. トラブルシューティング

### 8.1 問題が表示されない場合
1. JSONファイルの構文エラーをチェック
2. ファイルパスが正しいかチェック
3. 文字エンコーディング（UTF-8）をチェック

### 8.2 文字化けする場合
- ファイルをUTF-8で保存し直す
- 特殊文字を適切にエスケープする

## 9. 効率化のコツ

### 9.1 問題作成テンプレート
```json
{
  "question": "",
  "category": "",
  "subcategory": "",
  "correct": "",
  "choices": ["", "", "", ""],
  "explanation": ""
}
```

### 9.2 一括追加方法
複数問題を一度に追加する場合は、テンプレートをコピーして必要な分だけ用意し、まとめて編集すると効率的です。